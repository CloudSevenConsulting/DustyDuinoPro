

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sensor Host Configurations &mdash; C7C.Atamo.Dusty  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="C7C.Atamo.Dusty  documentation" href="../../index.html"/>
        <link rel="up" title="Technical Documentation" href="../main.html"/>
        <link rel="next" title="Technical Guidelines and Standards" href="../../standards/main.html"/>
        <link rel="prev" title="Sensor Host" href="arch_sh.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> C7C.Atamo.Dusty
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro/home.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/main.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../main.html">Technical Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../testing/firmwareTesting_overview.html">Firmware Testing Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/firmwareTesting_makingTests.html">Making Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="arch_network.html">Network Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="arch_sh.html">Sensor Host</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Sensor Host Configurations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-lookup">Configuration Lookup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#device-configuration">Device Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#on-start-up">On Start-Up</a></li>
<li class="toctree-l4"><a class="reference internal" href="#by-network-manager">By Network Manager</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../standards/main.html">Technical Guidelines and Standards</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">C7C.Atamo.Dusty</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../main.html">Technical Documentation</a> &raquo;</li>
        
      <li>Sensor Host Configurations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/technical/arch/sh_configurations.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sensor-host-configurations">
<h1>Sensor Host Configurations<a class="headerlink" href="#sensor-host-configurations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>Sensor hosts are configurable remotely without the need to recompile/rebuild.
This is a crucial requirement in order to minimize maintenance costs. As these
devices are expected to be on-site for several months, it is unfeasible to
send technicians on site to configure certain settings. As such the need for
configuration parameters that are checked and used at run time was proposed.</p>
</div>
<div class="section" id="configuration-lookup">
<h2>Configuration Lookup<a class="headerlink" href="#configuration-lookup" title="Permalink to this headline">¶</a></h2>
<p>The configuration lookup is stored in non-volatile memory on all devices on the
network. It must be the same across all devices for the WSN to be functional.</p>
<p>The lookup informs the devices the:</p>
<blockquote>
<div><ul class="simple">
<li>Index (unique ID) for a parameter</li>
<li>The allowable range of the parameter value (min and max)</li>
<li>The resolution of the parameter value (number of bytes)</li>
<li>The default value of the parameter value</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The option to introduce/remove configuration parameters is not provided at
run time and <strong>must</strong> be done on builds.</p>
</div>
</div>
<div class="section" id="device-configuration">
<h2>Device Configuration<a class="headerlink" href="#device-configuration" title="Permalink to this headline">¶</a></h2>
<p>Device configuration is stored in volatile memory; functions that require
configurable parameters will only look in the stored state variable (i.e.
volatile memory) for the parameter value.</p>
<p>Device configuration is loaded/updated into volatile memory in two cases:</p>
<blockquote>
<div><ul class="simple">
<li>On start-up</li>
<li>By network manager command</li>
</ul>
</div></blockquote>
<div class="section" id="on-start-up">
<h3>On Start-Up<a class="headerlink" href="#on-start-up" title="Permalink to this headline">¶</a></h3>
<p>On start-up, the sensor host uses all the default values in the configuration lookup
and stores those values in volatile memory.</p>
<p>Once this is done, the state variable <cite>_config_set_flag</cite> is set to indicate
that configurations are ready</p>
</div>
<div class="section" id="by-network-manager">
<h3>By Network Manager<a class="headerlink" href="#by-network-manager" title="Permalink to this headline">¶</a></h3>
<p>The network manager can either:</p>
<blockquote>
<div><ul class="simple">
<li>Broadcast a single configuration to all sensor host</li>
<li>Individually configure sensor host</li>
</ul>
</div></blockquote>
<p>In both cases, the sensor host receives this command and internally runs a routine
to update the configuration as specified by the network manager</p>
</div>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sampling_period_diagnostic</span></code></td>
<td>The sampling period for diagnostic data</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sampling_period_sensor</span></code></td>
<td>The sampling period for sensor data</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sleep_overhead_time</span></code></td>
<td>A safety-factor to prevent the system from over-sleeping and missing the required sampling time</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">network_join_duty_cycle_init</span></code></td>
<td>The initial duty cycle value when the sensor host joins the WSN</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">network_join_wait_time_init</span></code></td>
<td>The initial wait time before the sensor host will reattempt to join the WSN</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">network_join_wait_time_increment</span></code></td>
<td>The extra amount of time to wait after every attempt of failed joining</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">network_join_wait_max</span></code></td>
<td>The maximum waiting time for attempting to join</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">network_join_duty_cycle_decrement</span></code></td>
<td>The amount to decrease the duty cycle for every reattempt</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sensor_comm_type</span></code></td>
<td>The communication protocol used for communicating with the sensor</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sensor_clk_speed</span></code></td>
<td>The communication speed for the sensor protocol</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../standards/main.html" class="btn btn-neutral float-right" title="Technical Guidelines and Standards" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="arch_sh.html" class="btn btn-neutral" title="Sensor Host" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, C7C.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>